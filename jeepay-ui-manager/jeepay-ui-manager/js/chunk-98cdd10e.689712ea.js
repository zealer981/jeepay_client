(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98cdd10e"],{"0e19":function(e,r,s){e.exports=s.p+"assets/code.b0f7b3e8.svg"},"277d":function(e,r,s){"use strict";s("40ca")},"2e91":function(e,r,s){e.exports=s.p+"assets/select-user.6fbae668.svg"},"3b18":function(e,r,s){e.exports=s.p+"assets/lock.e2f6c892.svg"},"40ca":function(e,r,s){},"4d66":function(e,r,s){e.exports=s.p+"assets/user.16dc72b2.svg"},"591b":function(e,r,s){e.exports=s.p+"assets/select-lock.436eb95a.svg"},6045:function(e,r,s){e.exports=s.p+"assets/select-code.c039bae6.svg"},ac2a:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"main"},[t("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{form:e.form},on:{submit:e.handleSubmit}},[e.showLoginErrorInfo?t("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",showIcon:"",message:e.showLoginErrorInfo}}):e._e(),t("a-form-item",[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入帐户名"}],validateTrigger:"change"}],expression:"[\n          'username',\n          {rules: [{ required: true, message: '请输入帐户名' }], validateTrigger: 'change'}\n        ]"}],attrs:{size:"large",type:"text",placeholder:"请输入账户"},on:{focus:function(r){e.usernameIcon=s("2e91")},blur:function(r){e.usernameIcon=s("4d66")}}},[t("img",{staticClass:"user",attrs:{slot:"prefix",src:e.usernameIcon,alt:"user"},slot:"prefix"})])],1),t("a-form-item",[t("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"}],validateTrigger:"change"}],expression:"[\n          'password',\n          {rules: [{ required: true, message: '请输入密码' }], validateTrigger: 'change'}\n        ]"}],attrs:{size:"large",placeholder:"请输入密码"},on:{focus:function(r){e.passwordIcon=s("591b")},blur:function(r){e.passwordIcon=s("3b18")}}},[t("img",{staticClass:"user",attrs:{slot:"prefix",src:e.passwordIcon,alt:"user"},slot:"prefix"})])],1),t("div",{staticClass:"code"},[t("a-form-item",[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["usercode",{rules:[{required:!0,message:"请输入人机验证码"}],validateTrigger:"blur"}],expression:"[\n            'usercode',\n            {rules: [{ required: true, message: '请输入人机验证码' }], validateTrigger: 'blur'}\n          ]"}],staticClass:"code-input",attrs:{size:"large",type:"text",placeholder:"请输入人机验证码"},on:{focus:function(r){e.vercodeIcon=s("6045")},blur:function(r){e.vercodeIcon=s("0e19")}}},[t("img",{staticClass:"user",attrs:{slot:"prefix",src:e.vercodeIcon,alt:"user"},slot:"prefix"})])],1),t("div",{staticClass:"code-img",staticStyle:{position:"relative",background:"#ddd"}},[t("img",{directives:[{name:"show",rawName:"v-show",value:e.vercodeImgSrc,expression:"vercodeImgSrc"}],attrs:{src:e.vercodeImgSrc},on:{click:function(r){return e.refVercode()}}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isOverdue,expression:"isOverdue"}],staticClass:"vercode-mask",on:{click:function(r){return e.refVercode()}}},[e._v("已过期 请刷新")])])],1),t("a-form-item",[t("a-checkbox",{model:{value:e.isAutoLogin,callback:function(r){e.isAutoLogin=r},expression:"isAutoLogin"}},[e._v("自动登录")]),t("a",{staticClass:"forge-password",staticStyle:{float:"right"}},[e._v("忘记密码?")])],1),t("a-form-item",{staticClass:"submit"},[t("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loginBtnLoadingFlag}},[e._v("登录 ")])],1)],1)],1)},o=[],a=s("5530"),n=s("2f62"),i=s("ca00"),c=s("7ded"),u={components:{},data:function(){return{isOverdue:!1,isAutoLogin:!0,loginBtnLoadingFlag:!1,showLoginErrorInfo:"",form:this.$form.createForm(this),usernameIcon:s("4d66"),passwordIcon:s("3b18"),vercodeIcon:s("0e19"),vercodeImgSrc:"",vercodeToken:""}},mounted:function(){this.refVercode()},methods:Object(a["a"])(Object(a["a"])({},Object(n["b"])(["Login","Logout"])),{},{handleSubmit:function(e){var r=this;e.preventDefault();var s=this;s.form.validateFields({force:!0},(function(e,t){if(!e){var o=Object(a["a"])({},t);o.username=t.username,o.password=t.password,o.vercode=t.usercode,o.vercodeToken=s.vercodeToken,s.loginBtnLoadingFlag=!0,s.Login({loginParams:o,isSaveStorage:s.isAutoLogin}).then((function(e){r.loginSuccess(e)})).catch((function(e){s.showLoginErrorInfo=e.msg||JSON.stringify(e),s.loginBtnLoadingFlag=!1}))}}))},loginSuccess:function(e){var r=this;this.$router.push({path:"/"}),setTimeout((function(){r.$notification.success({message:"欢迎",description:"".concat(Object(i["a"])(),"，欢迎回来")})}),1e3),this.showLoginErrorInfo=""},refVercode:function(){var e=this,r=this;Object(c["d"])().then((function(s){r.vercodeImgSrc=s.imageBase64Data,r.vercodeToken=s.vercodeToken,e.isOverdue=!1,e.timer&&clearInterval(e.timer),e.timer=setInterval((function(){s.expireTime--,s.expireTime<=0&&(r.isOverdue=!0,clearInterval(e.timer))}),1e3)}))}})},d=u,l=(s("277d"),s("2877")),g=Object(l["a"])(d,t,o,!1,null,"6a91f618",null);r["default"]=g.exports},ca00:function(e,r,s){"use strict";function t(){var e=new Date,r=e.getHours();return r<9?"早上好":r<=11?"上午好":r<=13?"中午好":r<20?"下午好":"晚上好"}s.d(r,"a",(function(){return t}))}}]);