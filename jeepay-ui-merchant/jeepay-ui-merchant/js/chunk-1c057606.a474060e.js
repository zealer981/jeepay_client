(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c057606"],{"0e19":function(e,r,t){e.exports=t.p+"assets/code.b0f7b3e8.svg"},2668:function(e,r,t){"use strict";t("cbb0")},"2e91":function(e,r,t){e.exports=t.p+"assets/select-user.6fbae668.svg"},"3b189":function(e,r,t){e.exports=t.p+"assets/lock.e2f6c892.svg"},"4d66":function(e,r,t){e.exports=t.p+"assets/user.16dc72b2.svg"},"591b":function(e,r,t){e.exports=t.p+"assets/select-lock.436eb95a.svg"},6045:function(e,r,t){e.exports=t.p+"assets/select-code.c039bae6.svg"},ac2a:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"main"},[s("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{form:e.form},on:{submit:e.handleSubmit}},[e.showLoginErrorInfo?s("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",showIcon:"",message:e.showLoginErrorInfo}}):e._e(),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入帐户名"}],validateTrigger:"change"}],expression:"[\n          'username',\n          {rules: [{ required: true, message: '请输入帐户名' }], validateTrigger: 'change'}\n        ]"}],attrs:{size:"large",type:"text",placeholder:"请输入账户"},on:{focus:function(r){e.usernameIcon=t("2e91")},blur:function(r){e.usernameIcon=t("4d66")}}},[s("img",{staticClass:"user",attrs:{slot:"prefix",src:e.usernameIcon,alt:"user"},slot:"prefix"})])],1),s("a-form-item",[s("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"}],validateTrigger:"change"}],expression:"[\n          'password',\n          {rules: [{ required: true, message: '请输入密码' }], validateTrigger: 'change'}\n        ]"}],attrs:{size:"large",placeholder:"请输入密码"},on:{focus:function(r){e.passwordIcon=t("591b")},blur:function(r){e.passwordIcon=t("3b189")}}},[s("img",{staticClass:"user",attrs:{slot:"prefix",src:e.passwordIcon,alt:"user"},slot:"prefix"})])],1),s("div",{staticClass:"code"},[s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["usercode",{rules:[{required:!0,message:"请输入人机验证码"}],validateTrigger:"blur"}],expression:"[\n            'usercode',\n            {rules: [{ required: true, message: '请输入人机验证码' }], validateTrigger: 'blur'}\n          ]"}],staticClass:"code-input",attrs:{size:"large",type:"text",placeholder:"请输入人机验证码"},on:{focus:function(r){e.vercodeIcon=t("6045")},blur:function(r){e.vercodeIcon=t("0e19")}}},[s("img",{staticClass:"user",attrs:{slot:"prefix",src:e.vercodeIcon,alt:"user"},slot:"prefix"})])],1),s("div",{staticClass:"code-img",staticStyle:{position:"relative",background:"#ddd"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.vercodeImgSrc,expression:"vercodeImgSrc"}],attrs:{src:e.vercodeImgSrc},on:{click:function(r){return e.refVercode()}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isOverdue,expression:"isOverdue"}],staticClass:"vercode-mask",on:{click:function(r){return e.refVercode()}}},[e._v("已过期 请刷新")])])],1),s("a-form-item",[s("a-checkbox",{model:{value:e.isAutoLogin,callback:function(r){e.isAutoLogin=r},expression:"isAutoLogin"}},[e._v("自动登录")]),s("a",{staticClass:"forge-password",staticStyle:{float:"right"}},[e._v("忘记密码?")])],1),s("a-form-item",{staticClass:"submit"},[s("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loginBtnLoadingFlag}},[e._v("登录 ")])],1)],1)],1)},o=[],n=t("5530"),i=t("2f62"),a=t("ca00"),c=t("7ded"),u={components:{},data:function(){return{isOverdue:!1,isAutoLogin:!0,loginBtnLoadingFlag:!1,showLoginErrorInfo:"",form:this.$form.createForm(this),usernameIcon:t("4d66"),passwordIcon:t("3b189"),vercodeIcon:t("0e19"),vercodeImgSrc:"",vercodeToken:""}},created:function(){},mounted:function(){this.refVercode()},methods:Object(n["a"])(Object(n["a"])({onChange:function(e){this.isAutoLogin=!this.isAutoLogin}},Object(i["b"])(["Login","Logout"])),{},{handleSubmit:function(e){var r=this;e.preventDefault();var t=this;t.form.validateFields({force:!0},(function(e,s){if(!e){var o=Object(n["a"])({},s);o.username=s.username,o.password=s.password,o.vercode=s.usercode,o.vercodeToken=t.vercodeToken,t.loginBtnLoadingFlag=!0,t.Login({loginParams:o,isSaveStorage:t.isAutoLogin}).then((function(e){return r.loginSuccess(e)})).catch((function(e){t.showLoginErrorInfo=e.msg||JSON.stringify(e),t.loginBtnLoadingFlag=!1}))}}))},loginSuccess:function(e){var r=this;this.$router.push({path:"/",query:{isAutoLogin:this.isAutoLogin}}),setTimeout((function(){r.$notification.success({message:"欢迎",description:"".concat(Object(a["b"])(),"，欢迎回来")})}),1e3),this.showLoginErrorInfo=""},refVercode:function(){var e=this,r=this;Object(c["d"])().then((function(t){r.vercodeImgSrc=t.imageBase64Data,r.vercodeToken=t.vercodeToken,e.isOverdue=!1,e.timer&&clearInterval(e.timer),e.timer=setInterval((function(){t.expireTime--,t.expireTime<=0&&(r.isOverdue=!0,clearInterval(e.timer))}),1e3)}))}})},d=u,l=(t("2668"),t("2877")),g=Object(l["a"])(d,s,o,!1,null,"fa03d9b0",null);r["default"]=g.exports},ca00:function(e,r,t){"use strict";t.d(r,"b",(function(){return o})),t.d(r,"a",(function(){return n}));var s=1;function o(){var e=new Date,r=e.getHours();return r<9?"早上好":r<=11?"上午好":r<=13?"中午好":r<20?"下午好":"晚上好"}function n(){return(new Date).getTime()+"_"+s++}},cbb0:function(e,r,t){}}]);